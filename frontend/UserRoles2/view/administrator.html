<div ng-controller="clp">
    <div class="isDisabled">
        <div ng-include="'view/header.html'"></div>
    </div>
    <div ng-include="'view/header2.html'"></div>
    <div class="isDisabled">
        <div class="container w-100">
            <h1 class="text-center mt-2">Administrator Settings</h1>
            <div class="container mt-5">
                <div class="administrator d-flex justify-content-around ">

                    <div class="flex-column w-50 " style="padding-right: 30px;">
                        <div class="d-flex justify-content-between">
                            <h2>Physician </h2>
                            <a href="#!addPhysician" class="mt-2 text-danger text-decoration-none"> + Add Physician</a>
                        </div>
                        <hr class="hradmin">
                        <table id="doctorTable" class="table table-striped text-center">
                            <thead class="thead">
                                <tr>
                                    <th class="px-3">Physician Name</th>
                                    <th class="px-3">Edit</th>
                                    <th class="px-3">Remove</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="x in physician_data">
                                    <td>{{x.firstName}}</td>
                                    <td><i class="fa-regular fa-pen-to-square link-danger"></i></td>
                                    <td><i class="fa-regular fa-circle-xmark link-danger"></i></td>

                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="flex-column w-50 " style="padding-left: 30px;">
                        <div class="d-flex justify-content-between">
                            <h2>Nurse </h2>
                            <a href="#!addNurse" class="mt-2 text-danger text-decoration-none"> + Add Nurse</a>
                        </div>
                        <hr class="hradmin">
                        <table id="doctorTable" class="table table-striped text-center">
                            <thead class="thead">
                                <tr>
                                    <th class="px-3 ">Nurse Name</th>
                                    <th class="px-3 ">Edit</th>
                                    <th class="px-3 ">Remove</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="y in nurse_data">
                                    <td>{{y.firstName}}</td>
                                    <td><i class="fa-regular fa-pen-to-square link-danger "></i></td>
                                    <td><i class="fa-regular fa-circle-xmark link-danger "></i></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                </div>


                <div class="d-grid">
                    <div class="row">
                        <div class="col-6">
                            <h2>Dispense Restrictions </h2>
                        </div>
                        <div class="col-6">
                            <a class=" text-danger text-decoration-none p-2 "
                                style=" cursor: pointer; font-size: 20px; float: right; margin-left: 10px;"
                                data-bs-toggle="modal" data-bs-target="#editDispenseRestrictions"> + Edit Dispense
                                Restrictions</a>

                        </div>
                    </div>

                    <table id="" class="table table-striped text-center mt-2 ">
                        <thead class="thead">
                            <tr>
                                <th class=" ">Dose</th>
                                <th class="">Minimum Days</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="x in product_data">
                                <td>{{x.productName}}</td>
                                <td>{{x.minimumDays}}</td>

                            </tr>
                        </tbody>
                    </table>

                    <div class="modal fade" id="editDispenseRestrictions" tabindex="-1"
                        aria-labelledby="exampleModalLabel" aria-hidden="true">
                        <div class="modal-dialog " style="width: 35%;">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="exampleModalLabel">Dispense Restrictions</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal"
                                        aria-label="Close"></button>
                                </div>
                                <div class="modal-body">

                                    <table class="table table-striped ">
                                        <thead class="thead">
                                            <tr>
                                                <th>Dose</th>
                                                <th> Minimum Days</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat="x in product_data1">
                                                <td>{{x.productName}} </td>
                                                <td><input type="number" min="0" ng-model="x.minimumDays" required>
                                                </td>
                                            </tr>
                                        </tbody>

                                    </table>

                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary"
                                        data-bs-dismiss="modal">Close</button>
                                    <button type="button" class="btn btn-primary" ng-click="editMinimumDays()"
                                        data-bs-dismiss="modal">Save</button>
                                </div>

                            </div>
                        </div>
                    </div>

                </div>
                <hr>
                <div class="d-grid mt-4">
                    <div class="row">
                        <div class="col-6">
                            <h2>Reorder Settings</h2>
                        </div>
                        <div class="col-6">
                            <a class="text-danger text-decoration-none p-2  "
                                style=" cursor: pointer; font-size: 20px; float: right; margin-left: 10px;"
                                data-bs-toggle="modal" data-bs-target="#autoManualTable">+ Edit Reorder Settings</a>

                        </div>
                    </div>
                    <div id="autoTableMain" class="mt-4">
                        Reorder: Auto
                        <!-- <div class="col-2 form-check form-switch"><input class="form-check-input" type="checkbox" role="switch" id="tableSwitch"  data-bs-target="#autoTable,#manualTable" data-bs-toggle="collapse" ></div> -->


                        <table class="table table-striped  text-center mt-2  ">
                            <thead class="thead">
                                <tr>
                                    <th colspan="11" style="padding-left: 75%; border: none;">USAGE OVER LAST 6 MONTHS
                                    </th>
                                </tr>

                                <tr>
                                    <th class="">Product Name</th>
                                    <th class="">Reorder Point</th>
                                    <th class="">Reorder Quantity</th>
                                    <th class="">Add on Dose</th>
                                    <th class="">Add on Quantity</th>
                                    <th class="">10-2022</th>
                                    <th class="">11-2022</th>
                                    <th class="">12-2022</th>
                                    <th class="">01-2023</th>
                                    <th class="">02-2023</th>
                                    <th class="">03-2023</th>
                                </tr>

                            </thead>
                            <tbody>
                                <tr ng-repeat="y in autoTableData ">
                                    <td>{{y.productName}}</td>
                                    <td>{{y.reorderPoint}}</td>
                                    <td>{{y.reorderQuantity}}</td>
                                    <td>{{y.addOnDose}}</td>
                                    <td>{{y.addOnQuantity}}</td>
                                    <td>{{y.usageOverLastMonths.usgaeInOctober}}</td>
                                    <td>{{y.usageOverLastMonths.usageInNovember}}</td>
                                    <td>{{y.usageOverLastMonths.usageInDecember}}</td>
                                    <td>{{y.usageOverLastMonths.usageInJanuary}}</td>
                                    <td>{{y.usageOverLastMonths.usageInFebruary}}</td>
                                    <td>{{y.usageOverLastMonths.usageInMarch}}</td>


                                </tr>
                                <tr style="background-color: rgb(209, 231, 249);">
                                    <td colspan="5" style="padding-left: 645px;">Usage over Time Totals:</td>
                                    <td>{{autoTableData[0].usageOverLastMonths.usgaeInOctober+autoTableData[1].usageOverLastMonths.usgaeInOctober+autoTableData[2].usageOverLastMonths.usgaeInOctober}}
                                    </td>
                                    <td>{{autoTableData[0].usageOverLastMonths.usageInNovember+autoTableData[1].usageOverLastMonths.usageInNovember+autoTableData[2].usageOverLastMonths.usageInNovember}}
                                    </td>
                                    <td>{{autoTableData[0].usageOverLastMonths.usageInDecember+autoTableData[1].usageOverLastMonths.usageInDecember+autoTableData[2].usageOverLastMonths.usageInDecember}}
                                    </td>
                                    <td>{{autoTableData[0].usageOverLastMonths.usageInJanuary+autoTableData[1].usageOverLastMonths.usageInJanuary+autoTableData[2].usageOverLastMonths.usageInJanuary}}
                                    </td>
                                    <td>{{autoTableData[0].usageOverLastMonths.usageInFebruary+autoTableData[1].usageOverLastMonths.usageInFebruary+autoTableData[2].usageOverLastMonths.usageInFebruary}}
                                    </td>
                                    <td>{{autoTableData[0].usageOverLastMonths.usageInMarch+autoTableData[1].usageOverLastMonths.usageInMarch+autoTableData[2].usageOverLastMonths.usageInMarch}}
                                    </td>

                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="mt-4 d-none" id="manualTableMain">
                        Reorder: Manual

                        <table id="" class="table table-striped text-center ">
                            <thead class="thead">
                                <tr>
                                    <th colspan="2" style="padding-left: 40%;border: none;">Low Inventory</th>
                                    <th colspan="3" style="padding-left: 18%; border: none;">Notifications</th>
                                    <th colspan="11" style="border: none;">USAGE OVER LAST 6 MONTHS</th>
                                </tr>

                                <tr>
                                    <th class="">Product Name</th>
                                    <th class="">Low Inventory Alerts</th>
                                    <th class="">Alert Quantity</th>
                                    <th class="">In System</th>
                                    <th class="">Email</th>
                                    <th class="">10-2022</th>
                                    <th class="">11-2022</th>
                                    <th class="">12-2022</th>
                                    <th class="">01-2023</th>
                                    <th class="">02-2023</th>
                                    <th class="">03-2023</th>
                                </tr>

                            </thead>
                            <tbody>
                                <tr ng-repeat="x in manualReorder">
                                    <td>{{x.productName}}</td>
                                    <td>{{x.lowInventoryAlerts}}</td>
                                    <td>{{x.alertQuantity}}</td>
                                    <td>{{x.inSystem}}</td>
                                    <td>{{x.email}}</td>
                                    <td>{{x.usageOverLastMonths.usgaeInOctober}}</td>
                                    <td>{{x.usageOverLastMonths.usageInNovember}}</td>
                                    <td>{{x.usageOverLastMonths.usageInDecember}}</td>
                                    <td>{{x.usageOverLastMonths.usageInJanuary}}</td>
                                    <td>{{x.usageOverLastMonths.usageInFebruary}}</td>
                                    <td>{{x.usageOverLastMonths.usageInMarch}}</td>

                                </tr>
                                <tr style="background-color: rgb(209, 231, 249);">
                                    <td colspan="5" style="padding-left: 645px;">Usage over Time Totals:</td>
                                    <td>{{autoTableData[0].usageOverLastMonths.usgaeInOctober+autoTableData[1].usageOverLastMonths.usgaeInOctober+autoTableData[2].usageOverLastMonths.usgaeInOctober}}
                                    </td>
                                    <td>{{autoTableData[0].usageOverLastMonths.usageInNovember+autoTableData[1].usageOverLastMonths.usageInNovember+autoTableData[2].usageOverLastMonths.usageInNovember}}
                                    </td>
                                    <td>{{autoTableData[0].usageOverLastMonths.usageInDecember+autoTableData[1].usageOverLastMonths.usageInDecember+autoTableData[2].usageOverLastMonths.usageInDecember}}
                                    </td>
                                    <td>{{autoTableData[0].usageOverLastMonths.usageInJanuary+autoTableData[1].usageOverLastMonths.usageInJanuary+autoTableData[2].usageOverLastMonths.usageInJanuary}}
                                    </td>
                                    <td>{{autoTableData[0].usageOverLastMonths.usageInFebruary+autoTableData[1].usageOverLastMonths.usageInFebruary+autoTableData[2].usageOverLastMonths.usageInFebruary}}
                                    </td>
                                    <td>{{autoTableData[0].usageOverLastMonths.usageInMarch+autoTableData[1].usageOverLastMonths.usageInMarch+autoTableData[2].usageOverLastMonths.usageInMarch}}
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="modal fade" id="autoManualTable" tabindex="-1" aria-labelledby="exampleModalLabel"
                        aria-hidden="true">
                        <div class="modal-dialog " style="width: 90%;">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="exampleModalLabel">Reorder Settings</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal"
                                        aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    <form>
                                        <div class="setting">
                                            <div class="switch check" onclick="toggleTables()" id="auto">Auto</div>
                                            <div class="switch" onclick="toggleTables1()" id="manual">Manual</div>
                                        </div>
                                       
                                            
                                        <div id="autoTable" class="mt-2">
                                            Reorder: Auto
                                            <table id="autoTable" class="table table-striped  text-center mt-2  ">
                                                <thead class="thead">
                                                    <tr>
                                                        <th colspan="11" style="padding-left: 75%; border: none;">USAGE
                                                            OVER LAST 6 MONTHS</th>
                                                    </tr>

                                                    <tr>
                                                        <th class="">Product Name</th>
                                                        <th class="">Reorder Point</th>
                                                        <th class="">Reorder Quantity</th>
                                                        <th class="">Add on Dose</th>
                                                        <th class="">Add on Quantity</th>
                                                        <th class="">10-2022</th>
                                                        <th class="">11-2022</th>
                                                        <th class="">12-2022</th>
                                                        <th class="">01-2023</th>
                                                        <th class="">02-2023</th>
                                                        <th class="">03-2023</th>
                                                    </tr>

                                                </thead>
                                                <tbody>
                                                    <tr ng-repeat="y in autoTableData1">
                                                        <td>{{y.productName}}</td>
                                                        <td><input type="text" class="w-25" ng-model="y.reorderPoint"
                                                                required></td>
                                                        <td><input type="text" class="w-25" ng-model="y.reorderQuantity"
                                                                required></td>
                                                        <td><select ng-model="y.addOnDose">
                                                                <option value="-">Select a Dose</option>
                                                                <option value="Itone">Itone</option>
                                                                <option value="Flexon"> Flexon</option>
                                                                <option value="Cosemelite"> Cosemelite</option>
                                                                
                                                            </select></td>
                                                        <td><input type="text" class="w-25" ng-model="y.addOnQuantity"
                                                                required></td>
                                                        <td>{{y.usageOverLastMonths.usgaeInOctober}}</td>
                                                        <td>{{y.usageOverLastMonths.usageInNovember}}</td>
                                                        <td>{{y.usageOverLastMonths.usageInDecember}}</td>
                                                        <td>{{y.usageOverLastMonths.usageInJanuary}}</td>
                                                        <td>{{y.usageOverLastMonths.usageInFebruary}}</td>
                                                        <td>{{y.usageOverLastMonths.usageInMarch}}</td>


                                                    </tr>
                                                    <tr style="background-color: rgb(209, 231, 249);">
                                                        <td colspan="5" style="padding-left: 600px;">Usage over Time
                                                            Totals:
                                                        </td>
                                                        <td>{{autoTableData[0].usageOverLastMonths.usgaeInOctober+autoTableData[1].usageOverLastMonths.usgaeInOctober+autoTableData[2].usageOverLastMonths.usgaeInOctober}}
                                                        </td>
                                                        <td>{{autoTableData[0].usageOverLastMonths.usageInNovember+autoTableData[1].usageOverLastMonths.usageInNovember+autoTableData[2].usageOverLastMonths.usageInNovember}}
                                                        </td>
                                                        <td>{{autoTableData[0].usageOverLastMonths.usageInDecember+autoTableData[1].usageOverLastMonths.usageInDecember+autoTableData[2].usageOverLastMonths.usageInDecember}}
                                                        </td>
                                                        <td>{{autoTableData[0].usageOverLastMonths.usageInJanuary+autoTableData[1].usageOverLastMonths.usageInJanuary+autoTableData[2].usageOverLastMonths.usageInJanuary}}
                                                        </td>
                                                        <td>{{autoTableData[0].usageOverLastMonths.usageInFebruary+autoTableData[1].usageOverLastMonths.usageInFebruary+autoTableData[2].usageOverLastMonths.usageInFebruary}}
                                                        </td>
                                                        <td>{{autoTableData[0].usageOverLastMonths.usageInMarch+autoTableData[1].usageOverLastMonths.usageInMarch+autoTableData[2].usageOverLastMonths.usageInMarch}}
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                            <div class="modal-footer">
                                                <button type="button" class="btn btn-secondary"
                                                    data-bs-dismiss="modal">Close</button>
                                                <button type="button" class="btn btn-info" ng-click="autoTableUpdate()"
                                                    data-bs-dismiss="modal">Update</button>
                                            </div>
                                        </div>
                                        <div id="manualTable" class="mt-2 d-none"  >
                                            Reorder: Manual

                                            <table id="manualTable" class="table table-striped text-center mt-1 ">
                                                <thead class="thead">
                                                    <tr>
                                                        <th colspan="2" style="padding-left: 40%;border: none;">Low
                                                            Inventory</th>
                                                        <th colspan="3" style="padding-left: 18%; border: none;">
                                                            Notifications</th>
                                                        <th colspan="11" style=" padding-left: 2%;border: none;">USAGE
                                                            OVER LAST 6 MONTHS</th>
                                                    </tr>

                                                    <tr>
                                                        <th class="">Product Name</th>
                                                        <th class="">Low Inventory Alerts</th>
                                                        <th class="">Alert Quantity</th>
                                                        <th class="">In System</th>
                                                        <th class="">Email</th>
                                                        <th class="">10-2022</th>
                                                        <th class="">11-2022</th>
                                                        <th class="">12-2022</th>
                                                        <th class="">01-2023</th>
                                                        <th class="">02-2023</th>
                                                        <th class="">03-2023</th>
                                                    </tr>

                                                </thead>
                                                <tbody>
                                                    <tr ng-repeat="x in manualReorder1">
                                                        <td>{{x.productName}}</td>
                                                        <td>
                                                            <div class="form-check form-switch"><input
                                                                    class="form-check-input" style="margin-left: 40%;"
                                                                    type="checkbox" role="switch" id="alertSwitch"
                                                                    ng-model="x.lowInventoryAlerts">
                                                            </div>
                                                        </td>
                                                        <td><input type="text" class="w-25" ng-model="x.alertQuantity"
                                                                required></td>
                                                        <td><input type="checkbox" ng-model="x.inSystem"
                                                                style="height: 20px;width: 20px;">
                                                        </td>
                                                        <td><input type="checkbox" ng-model="x.email"
                                                                style="height: 20px;width: 20px;">
                                                        </td>
                                                        <td>{{x.usageOverLastMonths.usgaeInOctober}}</td>
                                                        <td>{{x.usageOverLastMonths.usageInNovember}}</td>
                                                        <td>{{x.usageOverLastMonths.usageInDecember}}</td>
                                                        <td>{{x.usageOverLastMonths.usageInJanuary}}</td>
                                                        <td>{{x.usageOverLastMonths.usageInFebruary}}</td>
                                                        <td>{{x.usageOverLastMonths.usageInMarch}}</td>


                                                    </tr>
                                                    <tr style="background-color: rgb(209, 231, 249);">
                                                        <td colspan="5" style="padding-left: 600px;">Usage over Time
                                                            Totals:
                                                        </td>
                                                        <td>{{autoTableData[0].usageOverLastMonths.usgaeInOctober+autoTableData[1].usageOverLastMonths.usgaeInOctober+autoTableData[2].usageOverLastMonths.usgaeInOctober}}
                                                        </td>
                                                        <td>{{autoTableData[0].usageOverLastMonths.usageInNovember+autoTableData[1].usageOverLastMonths.usageInNovember+autoTableData[2].usageOverLastMonths.usageInNovember}}
                                                        </td>
                                                        <td>{{autoTableData[0].usageOverLastMonths.usageInDecember+autoTableData[1].usageOverLastMonths.usageInDecember+autoTableData[2].usageOverLastMonths.usageInDecember}}
                                                        </td>
                                                        <td>{{autoTableData[0].usageOverLastMonths.usageInJanuary+autoTableData[1].usageOverLastMonths.usageInJanuary+autoTableData[2].usageOverLastMonths.usageInJanuary}}
                                                        </td>
                                                        <td>{{autoTableData[0].usageOverLastMonths.usageInFebruary+autoTableData[1].usageOverLastMonths.usageInFebruary+autoTableData[2].usageOverLastMonths.usageInFebruary}}
                                                        </td>
                                                        <td>{{autoTableData[0].usageOverLastMonths.usageInMarch+autoTableData[1].usageOverLastMonths.usageInMarch+autoTableData[2].usageOverLastMonths.usageInMarch}}
                                                        </td>

                                                    </tr>
                                                </tbody>
                                            </table>
                                            <div class="modal-footer">
                                                <button type="button" class="btn btn-secondary"
                                                    data-bs-dismiss="modal">Close</button>
                                                <button type="button" class="btn btn-danger" ng-click="manualTableUpdate()"
                                                    data-bs-dismiss="modal">Update</button>
                                            </div>
                                        </div>
                                    </form>
                                </div>


                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

</div>



<!-- <div id="reorderDropDown" class="row">
                    <div class="d-flex justify-content-end">
                        <form  style="border: 2px groove rgb(228, 223, 223);">
                            <table class="table table-striped ">
                                <thead class="bg-warning">
                                    <tr>
                                        <th>Product Name</th>
                                        <th>Low Inventory Alerts</th>
                                        <th class="">Alert Quantity</th>
                                        <th class="">In-System</th>
                                        <th class="">Email</th>

                                    </tr>
                                </thead>
                                <tbody >
                                  
                                </tbody>
                                
                            </table>
                            <div class="text-center mb-2">
                            <input type="button" class="btn btn-info" ng-click="editMinimumDays()" value="Save">
                        </div>
                        </form>
                        
                    </div>
                    </div> -->
<!-- data-bs-target="#autoTable , #manualTable" data-bs-toggle="collapse" -->