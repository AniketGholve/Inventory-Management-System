<div ng-controller="clp">
    <div class="isDisabled">
        <div ng-include="'view/header.html'"></div>
    </div>
    <div ng-include="'view/header2.html'"></div>
    <!-- <div>Please Select a Clinic </div> -->
    <div class="isDisabled">
        <h1 class="text-center">Patients</h1>
        <div>
            <form ng-submit="getById()" class="form-inline d-flex justify-content-center mt-3">
                <input type="text" id="patientId" placeholder="Search Patient Id" ng-model="variable" class="">
                <button type="submit" class="btn btn-outline-success my-2 my-sm-0">Search</button>
            </form>
        </div>
        <br>
        <div>
            <a class="insert" href="#!/insertPatient">Add Patient</a>
        </div>
        <br>
        <div class="container d-flex justify-content-center mt-5">
            <table id="patientDetailsTable" class=" table table-striped text-center">
                <thead class="thead">
                    <tr>
                        <!-- <th class="px-3">Id</th> -->
                        <th class="px-3">Patient Id</th>
                        <th class="px-3">First Name</th>
                        <th class="px-3">Last Name</th>
                        <th class="px-3">Middle Name</th>
                        <th class="px-3">Date Of Birth</th>
                        <th class="px-3">Patient Status</th>
                        <th class="px-3">Clinic Name</th>
                        <th class="px-3">Actions</th>
                    </tr>
                </thead>
                <tr ng-repeat="x in patientData | filter:variable" ng-if="searchPatientData==null">
                    <td class="px-3">
                        {{ x.patientId }}
                    </td>
                    <td class="px-3">
                        {{ x.patientFirstName }}
                    </td>
                    <td class="px-3">
                        {{ x.patientLastName }}
                    </td>
                    <td class="px-3">
                        {{ x.patientMiddleName }}
                    </td>
                    <td class="px-3">
                        {{ x.patientDob}}
                    </td>
                    <td class="px-3">
                        {{ x.patientStatus}}
                    </td>
                    <td class="px-3">
                        {{ x.clinicName}}
                    </td>
                    <td><a href="#!updatePatient/{{x.patientId}}">Edit</a>&nbsp &nbsp<a href=""
                            ng-click="deleteById(x.id)" onclick="reloadWindow()">Delete</a></td>
                </tr>

                <tr ng-if="searchPatientData!=null" ng-init="x=searchPatientData">
                    <td class="px-3">
                        {{ x.id }}
                    </td>
                    <td class="px-3">
                        {{ x.patientId }}
                    </td>
                    <td class="px-3">
                        {{ x.patientFirstName }}
                    </td>
                    <td class="px-3">
                        {{ x.patientLastName }}
                    </td>
                    <td class="px-3">
                        {{ x.patientMiddleName }}
                    </td>
                    <td class="px-3">
                        {{ x.patientDob}}
                    </td>
                    <td class="px-3">
                        {{ x.patientStatus}}
                    </td>
                    <td class="px-3">
                        {{ x.patientEmail }}
                    </td>
                    <td class="px-3">
                        {{ x.patientLocationId }}
                    </td>
                    <td class="px-3">
                        {{ x.patientLastDispenseId }}
                    </td>
                    <td class="px-3">
                        {{ x.patientEnterpriseId}}
                    </td>
                    <td class="px-3">
                        {{ x.patientPayerType}}
                    </td>
                    <td class="px-3">
                        {{ x.patientPaNeeded }}
                    </td>
                    <td class="px-3">
                        {{ x.independentInventory }}
                    </td>
                    <td>
                        <a class="d-block m-2" href=""
                            ng-repeat="j in searchedPatientFileRange(0,x.patientFile.length) "
                            ng-click="fileDownload(x.patientFile[j].fileId)">{{x.patientFile[j].fileName}}</a>
                    </td>
                    <td><a href="#!updatePatient/{{x.patientId}}">edit</a></td>
                    <td> <a href="" ng-click="deleteById(x.id)" onclick="reloadWindow()">delete</a></td>
                </tr>
            </table>
        </div>

    </div>
</div>