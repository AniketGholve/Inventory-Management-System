<div ng-controller="clp">
    <div ng-include="'view/header.html'"></div>
    <div ng-include="'view/header2.html'"></div>
    <div class="container">
        <h2 class="text-center">Dispense To Patient</h2>
        <div class="container mt-3">
            <label for="">Serial Number:</label>
            <input type="number" list="serialList" class="dispense_input" placeholder="Serial Number"
                ng-model="serialNumber" ng-change="serialDataFunction()"></input>
            <!-- <datalist id="serialList">
                <option ng-repeat="x in clinicDropdownName">{{x.shipToName}}</option>
            </datalist> -->
            <table class="table table-striped  text-center mt-5"
                ng-class="{'d-none':serialNumber==''||serialNumber==null}">
                <thead class="thead">
                    <tr>
                        <th>Serial Id</th>
                        <th>Serial Status</th>
                        <th>Product Id</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>{{serialData.serialId}}</td>
                        <td>{{serialData.serialStatus}}</td>
                        <td>{{serialData.productId}}</td>
                    </tr>
                </tbody>
            </table>
            <div ng-class="{'d-none':dispance.serialId==null || serialNumber=='' || serialNumber==null}">
                <div class="mt-5 my-2" ng-class="{'d-none':serialNumber=='' || serialNumber==null}">
                    <label for="">Patient Name:</label>
                    <input class="dispense_input " type="text" placeholder="Patient Name"
                        ng-model="search.patientFirstName">
                    <a class="btn btn-primary mx-5" href="#!/insertPatient">Add Patient</a>
                </div>
              
                <div class="container d-flex justify-content-center"
                    ng-class="{'d-none':search.patientFirstName==null || search.patientFirstName==''}">
                    <table id="patientDetailsTable" class=" table table-striped text-center">
                        <thead class="thead" >
                            <tr>
                                <th class="px-3" ng-class="{'d-none':dispance.patientId != null}">Patient Id</th>
                                <th class="px-3">First Name</th>
                                <th class="px-3">Last Name</th>
                                <th class="px-3">Middle Name</th>
                                <th class="px-3" ng-class="{'d-none':dispance.patientId != null}">Date Of Birth</th>
                                <th class="px-3" ng-class="{'d-none':dispance.patientId != null}">Patient Status</th>
                                <th class="px-3" ng-class="{'d-none':dispance.patientId != null}">Clinic Name</th>
                                <th class="px-3" ng-class="{'d-none':dispance.patientId != null}">Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                        <tr ng-repeat="x in patientData | filter:search:strict" ng-if="searchPatientData==null" ng-class="{'d-none':dispance.patientId != null}">
                            <td class="px-3">
                                {{ x.patientId }}
                            </td>
                            <td class="px-3">
                                {{ x.patientFirstName }}
                            </td>
                            <td class="px-3">
                                {{ x.patientLastName }}
                            </td>
                            <td class="px-3">
                                {{ x.patientMiddleName }}
                            </td>
                            <td class="px-3">
                                {{ x.patientDob}}
                            </td>
                            <td class="px-3">
                                {{ x.patientStatus}}
                            </td>
                            <td class="px-3">
                                {{ x.clinicName}}
                            </td>
                            <td><a href="" ng-click="dispancePatientDetials(x)"><i
                                        class="fa-sharp fa-solid fa-circle-check text-danger"></i></a></td>
                        </tr>

                        <tr>
                            <td class="px-3">{{ dispensePatientData.firstName }}</td>
                            <td class="px-3">{{ dispensePatientData.lastName }}</td>
                            <td class="px-3">{{ dispensePatientData.middleName }}</td>
                        </tr>
                    </tbody>
                    </table>
                </div>
            </div>
            <div class="d-flex justify-content-between ">
            <div ng-class="{'d-none':dispance.serialId==null || serialNumber=='' || serialNumber==null}">
                <div class="mt-5 my-2" ng-class="{'d-none':serialNumber=='' || serialNumber==null}">
                    <label for="">Physician:</label>
                    <input class="dispense_input " type="text" placeholder="Physician Name"
                        ng-model="physicianSearch.firstName">
                </div>
                <div class="container d-flex justify-content-center"
                    ng-class="{'d-none':physicianSearch.firstName==null || physicianSearch.firstName==''}">
                    <table id="physicianDetailsTable" class=" table table-striped text-center">
                        <thead class="thead">
                            <tr>
                                <th class="px-3">First Name</th>
                                <th class="px-3">Last Name</th>
                                <th class="px-3"  ng-class="{'d-none':dispance.physicianId != null}">Middle Name</th>
                                <th class="px-3"  ng-class="{'d-none':dispance.physicianId != null}">Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                        <tr ng-repeat="x in physician_data | filter:physicianSearch:strict" ng-if="searchphysician_data==null"  ng-class="{'d-none':dispance.physicianId != null}">
                            <td class="px-3">
                                {{ x.firstName }}
                            </td>
                            <td class="px-3">
                                {{ x.lastName }}
                            </td>
                            <td class="px-3">
                                {{ x.middleName }}
                            </td>
                            <td><a href="" ng-click="dispancePhysicianDetials(x)"><i
                                        class="fa-sharp fa-solid fa-circle-check text-danger"></i></a></td>
                        </tr>

                        <tr>
                            <td class="px-3">{{dispensePhysicianData.firstName}}</td>
                            <td class="px-3">{{dispensePhysicianData.lastName }}</td>
                        </tr>
                    </tbody>
                    </table>
                </div>
            </div>
            <div ng-class="{'d-none':dispance.serialId==null || serialNumber=='' || serialNumber==null}">
                <div class="mt-5 my-2 " ng-class="{'d-none':serialNumber=='' || serialNumber==null}">
                    <label for="">Nurse:</label>
                    <input class="dispense_input" type="text" placeholder="Nurse Name" ng-model="nurseSearch.firstName">
                </div>
                <div class="container d-flex justify-content-center "
                    ng-class="{'d-none':nurseSearch.firstName==null || nurseSearch.firstName==''}">
                    <table id="physicianDetailsTable" class=" table table-striped text-center">
                        <thead class="thead">
                            <tr>
                                <th class="px-3">First Name</th>
                                <th class="px-3">Last Name</th>
                                <th class="px-3" ng-class="{'d-none':dispance.nurseId != null}">Middle Name</th>
                                <th class="px-3" ng-class="{'d-none':dispance.nurseId != null}">Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                        <tr ng-repeat="x in nurse_data | filter:nurseSearch:strict" ng-if="searchnurse_data==null" ng-class="{'d-none':dispance.nurseId != null}">
                            <td class="px-3">
                                {{ x.firstName }}
                            </td>
                            <td class="px-3">
                                {{ x.lastName }}
                            </td>
                            <td class="px-3">
                                {{ x.middleName }}
                            </td>
                            <td><a href="" ng-click="dispanceNurseDetials(x)"><i
                                        class="fa-sharp fa-solid fa-circle-check text-danger"></i></a></td>
                        </tr>

                        <tr ng-class="{'d-none':dispenseNurseData.firstName == null}">
                            <td class="px-3">{{dispenseNurseData.firstName}}</td>
                            <td class="px-3">{{dispenseNurseData.lastName}}</td>
                            
                        </tr>
                    </tbody>
                    </table>
                </div>
            </div>
            </div>
            <div>
                <div ng-class="{'d-none':dispance.serialId==null || serialNumber=='' || serialNumber==null}">
                <div class="mt-5 my-2" ng-class="{'d-none':serialNumber=='' || serialNumber==null}">
                <label for="">Injection Site :</label>
                <select type="checkbox" ng-model="dispance.injectionSite">
                <option value="Left Hip">Left Hip</option>
                <option value="Right Hip">Right Hip</option>
                <option value="Left Thigh">Left Thigh</option>
                <option value="Right Hip">Right Thigh</option>
                <option value="Left Buttock">Left Buttock</option>
                <option value="Right Buttock">Right Buttock</option>
                <option value="Left Deltoid">Left Deltoid</option>
                <option value="Right Deltoid">Right Deltoid</option>
            </select>
            </div>
                <input class="btn btn-primary" value="Dispense To Patient" ng-class="{'d-none':dispance.nurseId == null}"
                    ng-click="dispenseToPatient()">
            </div>

        </div>

    </div>
